:host { display: inline-block; }

.toast-anim {
  --size: 48px;
  --dur: 900ms;
  position: relative;
  width: var(--size);
  height: var(--size);
  display: grid;
  place-items: center;
  isolation: isolate;
}

/* Door plate */
.door {
  position: absolute;
  inset: 10% 55% 10% 10%;
  border-radius: 10px;
  background: #e7e9ee;
  box-shadow: inset 0 0 0 1px #ccd1db;
}

.reader {
  position: absolute;
  top: 50%; left: 62%;
  width: 26%; height: 16%;
  transform: translate(-50%, -50%);
  background: #404854;
  border-radius: 8px;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.25);
  display:flex; align-items:center; justify-content:center;
}

.led { width: 6px; height: 6px; border-radius: 50%; background: #ef4444; }

/* Card */
.card {
  position: absolute;
  width: 48%;
  height: 28%;
  left: -25%;
  top: 50%;
  transform: translateY(-50%);
  border-radius: 8px;
  background: #3875f6;
  box-shadow: 0 4px 10px rgba(0,0,0,.15);
  opacity: 0;
}
.card::before {
  content:"";
  position:absolute; inset:0;
  border-radius: inherit;
  background: linear-gradient(to bottom, rgba(255,255,255,.15), rgba(0,0,0,.05));
}
.stripe {
  position: absolute;
  top: 24%;
  left: 0; right: 0;
  height: 18%;
  background: #ffffff;
  border-radius: 8px;
}

/* Swipe animation class */
.swipe-run { animation: swipe var(--dur) ease-out forwards; }

@keyframes swipe {
  0%   { transform: translate(-10%, -50%) rotate(-3deg); opacity: 0; }
  10%  { opacity: 1; }
  55%  { transform: translate(60%, -50%) rotate(0deg); }
  100% { transform: translate(110%, -50%) rotate(2deg); opacity: 0; }
}

/* Lock icon */
.lock { position: absolute; right: 6%; bottom: 8%; width: 32%; aspect-ratio: 1/1; }
.body { width: 100%; height: 62%; background: #e2e8f0; border-radius: 6px; box-shadow: inset 0 0 0 2px #64748b; position: absolute; bottom: 0; }
.shackle { position: absolute; width: 70%; height: 55%; left: 50%; transform: translateX(-50%); border: 4px solid #64748b; border-bottom: none; border-radius: 12px 12px 0 0; transform-origin: 20% 100%; transition: transform .25s ease; }

/* Unlocked visuals */
.toast-anim.unlocked .led { background: #22c55e; }
.toast-anim.unlocked .shackle { transform: translateX(-50%) rotate(-28deg); }
.toast-anim.unlocked .body { background: #dcfce7; box-shadow: inset 0 0 0 2px #16a34a; }

@media (prefers-reduced-motion: reduce) {
  .swipe-run { animation: none; opacity: 1; left: 10%; }
  .shackle { transition: none; }
}
